# PDF文档内容提取
> 提取时间: 2025-09-19 09:10:13
> 总页数: 5
> 处理页数: 5

## 第 1 页

INFORMAL NOTES ON
MATHEMATICS
2023.01.07

3 组合数学
3 组合数学
12
在第一章,我们已经了解到组合数学的一些基本事实,下面我们继续描述我们将用到的组合数学的一些初等方法。从n个不同的元素中进行放回抽取r个元素进行排列,这就是说每个元素允许重复抽取,则完成这件事共有n^r种方法,因为每次可选择的元素个数是n个,共有r个步骤,所以用乘法原理可以看出这件事是显然的,我们把这样的排列叫做可重复排列。

3.1 不全相异元素的全排列
如果在n个元素中,不相同的元素共有k组(k≤n),这也就是说,我们将相同的元素放在一个组,而组数一共有k个。我们设第j组的元素个数为nj,其中j=1,2,...,k,所以n=∑nj,则这n个元素的全排列个数为 n!/∏(nj!)=n!/(n1!*n2!*...*nk!)。这个数据同样容易看出毕竟,因为
如果先把这n个不全相异的元素看成是全部相异的,于是的这个排列是n!,然后再将每个组的元素还原成相同的元素,于是第j个组的排列事实上重复了nj!次,于是由乘法原理总体的重复数是n1!*n2!*...*nk!个,所以不全相异的元素的排列个数为n!/(n1!*n2!*...*nk!)。

3.2 多组组合
我们现在考虑n个不同元素的分组问题。将n个不同元素分成k组(k≤n),第j组有nj个元素,j=1,2,...,k,则共有多少种方法?同样可以由乘法原理来计算,完成这件事可以分为k步,第1步从n个元素中选取的元素个数n1,于是有C(n,n1)种方法。第2步是从剩下的n-n1个元素中选取n2个,于是有C(n-n1,n2)种方法。第3步是从剩下的n-n1-n2个元素中选取n3个,于是有C(n-n1-n2,n3)种方法。继续这样的操作我们看到第

---

## 第 2 页

3 组合数学

j步是从剩下的n - Σnᵢ 个元素中选取 nⱼ 个，从而总共有
k
∏Cⁿⱼ₋₁ = Cⁿ¹₋ₙ₁ * Cⁿ²₋ₙ₂ * ... * Cⁿₖ₋ₙₖ₋₁
j=1
= n! / n₁!(n-n₁)! * (n-n₁)! / n₂!(n-n₁-n₂)! * ... * (n-n₁-...-nₖ₋₁)! / nₖ!(n-n₁-...-nₖ)!
= n! / n₁!n₂!...nₖ!

3.3 可重复组合

从 n 个不同元素中进行放回选取 r 个元素，也就是每个元素允许重复选取，则共有多少种方法？我们设 x₁, x₂,..., xᵣ 是上面这个的选取方案中任一个情况，可重复意思就是在 x₁, x₂,..., xᵣ 中可以有相等的情况，比如 1,1,3,4,..., r 就是说第一个元素 1 被选取了两次，而 3,4,..., r 分别只选取了一次。由于是无序的，所以我们可以假设 x₁ ≤ x₂ ≤ ... ≤ xᵣ，并且如果等号均不成立那么这就是一个无重复的组合。考虑

y₁ = x₁, y₂ = x₂ + 1, y₃ = x₃ + 2,..., yᵣ = xᵣ + r - 1,

于是 y₁ < y₂ < ... < yᵣ，这意味着 y₁, y₂,..., yᵣ 是一个无重复组合，具体地说是从 n + r - 1 个不同元素中不放回地选取 r 个元素的情况，总数为 Cᵣ₋₁ⁿ⁺ᵣ₋₁。而显然原先的组合 x₁, x₂,..., xᵣ 和新的组合 y₁, y₂,..., yᵣ 是一一对应的，这也就是说从 n 个不同元素中的可重复组合的个数共有 Cᵣ₋₁ⁿ⁺ᵣ₋₁ 种。

实际上 n 个不同元素中的可重复组合的个数对应着关于 zᵢ, i = 1,2,...,n 的不定方程

z₁ + z₂ + ... + zₙ = r

非负整数解的个数，所以这个方程的非负整数解的个数正好是 Cᵣ₋₁ⁿ⁺ᵣ₋₁ 个！
另一方面我们可以考虑关于 zᵢ, i = 1,2,...,n 的不定方程

z₁ + z₂ + ... + zₙ = r

正整数解的个数，我们变换上面的方程为

(z₁ - 1) + (z₂ - 1) + ... + (zₙ - 1) = r - n

于是正整数 z₁, z₂,..., zₙ 对应着非负整数 t₁ = z₁ - 1, t₂ = z₂ - 1,..., tₙ = zₙ - 1, 而非负整数 t₁, t₂,..., tₙ 共有 Cᵣ₋ₙⁿ⁺⁽ʳ⁻ⁿ⁾⁻¹ = Cᵣ₋ₙʳ⁻¹ = Cᵣ₋ₙⁿ⁻¹ 个。

---

## 第 3 页

3 组合数学
14
3.4 距离组合
从集合{1,2,...,n}中取出r个不同的数x1,x2,...,xr,对任意的1≤i≠j≤r要求|xi-xj|>m,其中m是不大于n的正整数,则共有多少种取法?事实上我们假设x1<x2<...<xr,考虑y1=x1,y2=x2-m,...,yr=xr-m,于是组合x1,x2,...,xr,与组合y1,y2,...,yr是一一对应的,并且组合y1,y2,...,yr个数实际上就是从n-(r-1)m个元素中无重复的选取r个元素,也就是组合数Cnr-(r-1)m。

3.5 练习
练习3.5.1.计算方程x1+x2+x3+3x4+3x5+5x6=7的非负整数解的个数。
练习3.5.2.数列an共有100项,a1=0,a100=475,且|ak+1-ak|=5,求满足这种条件的不同数列的个数。
练习3.5.3.AUBUC={a,b,c,d,e,f},ANB={a,b,c,d},c∈ANBNC,计算不同的三元组(A,B,C)的个数。
练习3.5.4.ANB={1,2,...,10},|A|=|B|,计算不同的二元组(A,B)的个数。
练习3.5.5.设n是正整数,把男女乒乓球选手各有3n人配成男双,女双,混双各n对,每名选手均不兼项,计算配对方式的总数。
练习3.5.6.设i1,i2,...,i6是1,2,3,4,5,6的任意排列,要求任意三个相邻的数之和不能被3整除,计算满足这样条件的排列的个数。
练习3.5.7.用4种颜色给一个正八面体染色,要求相邻的面(有公共棱的面)不同色,计算不同染色方法的种数。
练习3.5.8.证明:∑jCnj=n2n-1。
练习3.5.9.证明:∑j2Cnj=n(n+1)2n-2。
练习3.5.10.证明:∑(Cnj)2=(2n)!(n!)2。

---

## 第 4 页

排列组合

1.  排列数、组合数：$A_n^m = \frac{n!}{(n-m)!}$, $C_n^m = \frac{n!}{m!(n-m)!}$
2.  从n个元素中选取r个进行排列(可放回): $n^r$
3.  不全相异的全排列：

    n个元素分为k组，每组元素相同，记$n_i$为第i组元素个数
    若n个元素相异，则有n!种情况，其中重复的情况：
    $n_1! \times n_2! \times ... \times n_k!$ (即(1,1,2,3), (1,1,1,5,2), (1,3,2,1,3)等情况)
    ∴全排列个数为 $\frac{n!}{n_1!n_2!...n_k!}$
4.  多组组合

    将n个不同元素分成k组，第i组有$n_i$个元素
    第1组 $n_1$
    第2组 $n_2$
    ...
    第k组 $n_k$
    分为k步：
    $\frac{1}{C_n^{n_1}} \cdot \frac{2}{C_{n-n_1}^{n_2}} \cdot \frac{3}{C_{n-n_1-n_2}^{n_3}} ...$
    第k步：$C_{n-\sum_{i=1}^{k-1}n_i}^{n_k}$
    总个数：$C_n^{n_1} \cdot C_{n-n_1}^{n_2} ... C_{n-\sum_{i=1}^{k-1}n_i}^{n_k} = \frac{n!}{n_1!(n-n_1)!} \cdot \frac{(n-n_1)!}{n_2!(n-n_1-n_2)!} ... \frac{(n-\sum_{i=1}^{k-1}n_i)!}{n_k!(n-\sum_{i=1}^{k}n_i)!} = \frac{n!}{n_1!n_2!...n_k!}$
5.  可重复组合

    从n个不同元素中放回选取r个元素（不是选取r次，目的是把n个元素选出至少一遍）
    (和$n^r$那种情况不同的是，这是无序的。如(1,1,2,3)和(1,2,1,3)在$n^r$的情况视为不同，但在此情况下视为相同)
    ① 不妨设 $x_1 \le x_2 \le ... \le x_r$, (在均不取等时为无重复组合)
    令 $y_1 = x_1, y_2 = x_2 + 1, ..., y_r = x_r + r - 1$, 则 $y_1 < y_2 < ... < y_r$为无重复组合
    这些 $y_i \le n + r - 1$, $y_1 \sim y_r$ 即为 $n + r - 1$ 中选取r个的无重复组合
    由于原组合$C_x$与新组合$C_y$一一对应，所以个数为 $C_{n+r-1}^r$
    ② 用组合的方法：将n个元素视为n个隔间，向隔间里关放入r个☆，中间有隔板。

    有r个☆，n-1个隔板，总共为n+r-1个，对其自由排列：
    如 ☆☆| |☆| |☆☆| | |...
    总个数为 $C_{n+r-1}^r$ (在n+r-1个皇位上，选取r个定位故中)
    ③ 代数的结论：即不定方程 $x_1 + x_2 + ... + x_n = r$ 解个数有$C_{n+r-1}^r$个。
    非负整数

---

## 第 5 页

这也有两种角度来看：那我们考虑另个问题，z₁+z₂+……+zₙ=r 正整数解个数
(1) 代数方法：z₁+z₂+……+zₙ=r, zᵢ≥1 ∴ zᵢ-1≥0
∴ 即为(z₁-1)+(z₂-1)+……+(zₙ-1)=r-n, 记 tᵢ=zᵢ-1,
即求 t₁+t₂+……+tₙ=r-n 的非负整数解个数
∴ 根据之前所得结论，个数为 C(n+(r-n)-1) = C(r-1) = C(r-1)
(2) 组合方法：类似于之前的“中和隔板”。

b. 距离组合
从集合{1, 2, ……, n}中选取 r 个不同数 x₁, x₂, ……, xᵣ, 且 ∀ 1≤i<j≤r, 有 |xᵢ-xⱼ|≥m,
其中 m 为不大于 n 的正整数，则共有多少取法？
不妨设 x₁<x₂<……<xᵣ, 令 y₁=x₁, y₂=x₂+m, ……, yᵣ=xᵣ+(r-1)m
∴ y₂-y₁>m, y₃-y₂>m, ……, yᵣ-yᵣ₋₁>m
(好，他发现他写反了，他在用 x₁~xᵣ 无重复组合生成距离组合，实际上似乎也行，但不有点奇怪，所以还是正着写一遍。)
不妨设 x₁<x₂<……<xᵣ, 令 y₁=x₁, y₂=x₂-m, ……, yᵣ=xᵣ-m
(我感觉还不对，应该是 y₂=x₂-m, y₃=x₃-2m, ……, yᵣ=xᵣ-(r-1)m)
∴ x₁~xᵣ 与 y₁~yᵣ 的无重复组合一一对应，且 y₁~yᵣ 之间的差无限制
∴ 即有 yᵣ≤n-(r-1)m ∴ 即为从 n-(r-1)m 中选 r 个无重元素
∴ 为 C(r)
      n-(r-1)m

Ex. 35.3
解：
A
I₁
I₄ I₅
c ∈ I₁
a, b, d ∈ I₄ ∩ I₁
e ∈ I₁ or I₂ or I₃ or I₅ or I₆
B
I₂ I₆ I₃
C f 同理
∴ 共 2³×5²=200 种

---

